{% extends "base.html" %}
{% block content %}
  <h3>{{ item and ('Edit ' ~ table) or ('Create ' ~ table) }}</h3>
  <form method="post">
    {% for col in cols %}
      <div class="mb-3">
        <label class="form-label">{{ col.name }}</label>
        {% set val = item[col.name] if item else (col.default.arg if col.default is not none else '') %}
        {% if col.primary_key and item %}
          <input class="form-control" name="{{ col.name }}" value="{{ val }}" readonly>
        {% else %}
          <input class="form-control" name="{{ col.name }}" value="{{ val }}">
        {% endif %}
      </div>
    {% endfor %}
    <button class="btn btn-success" type="submit">Save</button>
    <a class="btn btn-secondary" href="{{ url_for('table_view', table_name=table) }}">Cancel</a>
  </form>
{% endblock %}
